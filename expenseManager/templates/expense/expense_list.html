{% extends 'base.html'%}

{% block gastos_active %}class="active"{% endblock %}

{% block section%}
	<div class="row">

	<div class="col-xs-12 col-md-5 col-sm-12">
		<a href="{% url "expense-add" %}" class="btn btn-lg btn-block btn-success"><i class="glyphicon glyphicon-fire"></i> Agregar Gasto</a>
	</div>
	</div>
	<br>
	
	
<div class="row">		
{%if object_list %}	
  
  <div class="col-md-5">

  	<div class="panel panel-primary">
	  <div class="panel-heading">
	    <h3 class="panel-title">Gastos del mes</h3>
	  </div>
	  <div class="panel-body">
	  	<table class="table table-striped table-hover ">
	  	<thead>
	    <tr class="danger">
				<td colspan="4"><strong>Total gastado del Mes</strong></td>
				<td><strong>$ {{total}}</strong></td>	
			</tr>
			<tr class="warning">
				<td colspan="4"><strong>Gastos Extraordinarios</strong></td>
				<td><strong>$ {{extraordinario}}</strong></td>	
			</tr>
		</thead>
		</table>
	  </div>
</div>
	<table class="table table-striped table-hover ">
		<thead>
			
		    <tr class="info">
			
				<th>Descripcion</td>
				<th>Costo</td>
				<th>Fecha</td>
				<th>Editar</th>
				<th>Eliminar</th>
			
		    </tr>
		</thead>
		<tbody>
				
		
			{% for expense in object_list %}
			    <tr>
				<td>{{ expense.descripcion }} </td>
				<td>${{ expense.precio }}</td>
				<td>{{ expense.fecha|date }}</td>
				<td><a href="{% url "expense-update" pk=expense.id %}" class="btn btn-warning"><i class="glyphicon glyphicon-edit"></i></a></td>
				<td><a href="{% url "expense-delete" pk=expense.id %}"class="btn btn-danger"><i class="glyphicon glyphicon-minus"></i></a></td>
			    </tr>
			{% endfor %}
			
		</tbody>
	</table>
  </div>
  {% else %}
	<div class = "col-lg-6">
		<div class="well">
 			Sin datos para el mes.
		</div>
	</div>
  {% endif %}
	
	<div class="col-md-7">

		<form class="form-horizontal" role="form" >
			<div class="form-group">
		      <label for="select" class="col-md-1 col-sm-1 control-label">Mes</label>
		      <div class="col-md-4 col-sm-12">
		        <select class="form-control input-small" id="month">
		          <option value='1'>Enero</option>
		          <option value='2'>Febrero</option>
		          <option value='3'>Marzo</option>
		          <option value='4'>Abril</option>
		          <option value='5'>Mayo</option>
		          <option value='6'>Junio</option>
		          <option value='7'>Julio</option>
		          <option value='8'>Agosto</option>
		          <option value='9'>Septiembre</option>
		          <option value='10'>Octubre</option>
		          <option value='11'>Noviembre</option>
		          <option value='12'>Diciembre</option>
		        </select>
		    </div>
		</div>
		    <div class="form-group">
		      <label for="select" class="col-md-1 col-sm-1 control-label">AÃ±o</label>
		      <div class="col-md-4 col-sm-12">
		        <select class="form-control" id="year" >
		          <option value='2015'>2015</option>
		          <option value='2016'>2016</option>
		          
		        </select>
		    </div>
		</div>

		<div class="form-group">
        	<div class="col-md-5 col-sm-12">
            	<input type="button" class="btn btn-primary btn-md btn-block" onclick="enviar()" value="Filtrar">
        	</div>
    	</div>

	</div>
	<script>
		function enviar(){
			
			 window.location= "/"+document.getElementById("year").value+"/"+document.getElementById("month").value;


		
		}
	</script>
</div>

{% endblock %}